language: node_js

node_js:
  - "0.10"

addons:
  firefox: "19.0"

services:
  - selenium

install:
  - npm install -g istanbul
  - npm install -g protractor
  - npm install jasmine-reporters@1.0.0

before_script:
  - mkdir -p shippable/testresults
  - mkdir -p shippable/codecoverage

script:
  - protractor --version
  - xvfb-run --server-args="-ac" protractor conf.js

after_script:
  - istanbul cover conf.js -- -u tdd
  - istanbul report cobertura --dir  shippable/codecoverage/

